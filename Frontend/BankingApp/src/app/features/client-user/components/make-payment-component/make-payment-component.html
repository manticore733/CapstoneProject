<div class="bg-white shadow p-6 rounded-2xl max-w-lg mx-auto">
  <h2 class="text-xl font-bold text-gray-700 mb-4">ðŸ’¸ Make a Payment</h2>

  <div *ngIf="error && !success" class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4" role="alert">
    <p class="font-bold">Payment Failed</p>
    <p>{{ error }}</p>
  </div>

  <div *ngIf="success" class="bg-green-100 border-l-4 border-green-500 text-green-700 p-4 mb-4" role="alert">
    <p class="font-bold">Success</p>
    <p>{{ success }}</p>
  </div>

  <form [formGroup]="form" (ngSubmit)="submitPayment()" class="space-y-4">
    
    <div>
      <label class="block mb-1 font-medium">Select Beneficiary</label>
      <select formControlName="beneficiaryId" class="border p-2 w-full rounded">
        <option [value]="null" disabled>-- Select a beneficiary --</option>
        <option *ngFor="let b of beneficiaries" [value]="b.beneficiaryId">
          {{ b.beneficiaryName }} ({{ b.accountNumber }})
        </option>
      </select>
      <div *ngIf="form.controls['beneficiaryId'].touched && form.controls['beneficiaryId'].invalid" class="text-red-500 text-xs mt-1">
        Please select a beneficiary.
      </div>
    </div>

    <div>
      <label class="block mb-1 font-medium">Amount</label>
      <input type="number" formControlName="amount" placeholder="100.00" class="border p-2 w-full rounded" />
      <div *ngIf="form.controls['amount'].touched && form.controls['amount'].invalid" class="text-red-500 text-xs mt-1">
        Amount is required and must be greater than 0.
      </div>
    </div>

    <div>
      <label class="block mb-1 font-medium">Remarks (Optional)</label>
      <textarea formControlName="remarks" rows="3" placeholder="e.g., Invoice #123" class="border p-2 w-full rounded"></textarea>
    </div>

    <div class="text-right">
      <button
        type="submit"
        [disabled]="loading || form.invalid"
        class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 disabled:bg-gray-300"
      >
        {{ loading ? 'Submitting...' : 'Submit for Approval' }}
      </button>
    </div>

  </form>
</div>