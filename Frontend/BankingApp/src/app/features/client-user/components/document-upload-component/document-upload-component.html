<div class="grid grid-cols-1 md:grid-cols-2 gap-6">

  <div class="bg-white shadow p-6 rounded-2xl">
    <h2 class="text-xl font-bold text-gray-700 mb-4">ðŸ“„ Upload Document</h2>
    <p class="text-sm text-gray-500 mb-4">
      Your account is pending. Please upload your documents for the bank to review and approve your account.
    </p>

    <div *ngIf="error && !success" class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4" role="alert">
      <p class="font-bold">Upload Failed</p>
      <p>{{ error }}</p>
    </div>

    <div *ngIf="success" class="bg-green-100 border-l-4 border-green-500 text-green-700 p-4 mb-4" role="alert">
      <p class="font-bold">Success</p>
      <p>{{ success }}</p>
    </div>

    <form [formGroup]="form" (ngSubmit)="submitUpload()" class="space-y-4">
      
      <div>
        <label class="block mb-1 font-medium">Document Type</label>
        <select formControlName="proofTypeId" class="border p-2 w-full rounded">
          <option [value]="null" disabled>-- Select a document type --</option>
          <option *ngFor="let p of proofTypes" [value]="p.id">
            {{ p.name }}
          </option>
        </select>
        <div *ngIf="form.controls['proofTypeId'].touched && form.controls['proofTypeId'].invalid" class="text-red-500 text-xs mt-1">
          Please select a document type.
        </div>
      </div>

      <div>
        <label class="block mb-1 font-medium">File (PDF, PNG, JPG)</label>
        <input 
          id="file-input"
          type="file" 
          formControlName="file" 
          (change)="onFileChange($event)"
          accept=".pdf,.png,.jpg,.jpeg"
          class="border p-2 w-full rounded file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"
        />
        <div *ngIf="form.controls['file'].touched && form.controls['file'].invalid" class="text-red-500 text-xs mt-1">
          Please select a file to upload.
        </div>
      </div>

      <div class="text-right">
        <button
          type="submit"
          [disabled]="loading"
          class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 disabled:bg-gray-300"
        >
          {{ loading ? 'Uploading...' : 'Upload Document' }}
        </button>
      </div>
    </form>
  </div>

  <div class="bg-white shadow p-6 rounded-2xl">
    <h2 class="text-xl font-bold text-gray-700 mb-4">My Uploaded Documents</h2>

    <div *ngIf="loadingList" class="text-center text-gray-500">
      Loading documents...
    </div>

    <div *ngIf="!loadingList && myDocuments.length === 0" class="text-center text-gray-400 py-6">
      You have not uploaded any documents yet.
    </div>

    <div *ngIf="!loadingList && myDocuments.length > 0" class="space-y-3">
      <div *ngFor="let doc of myDocuments" class="border rounded-lg p-3 flex justify-between items-center bg-gray-50">
        <div>
          <p classs="font-medium text-gray-800">{{ doc.documentName }}</p>
          <p class="text-sm text-gray-500">{{ doc.proofTypeName }}</p>
        </div>
        <a [href]="doc.documentURL" target="_blank" class="text-blue-600 text-sm font-medium hover:underline">
          View
        </a>
      </div>
    </div>
  </div>

</div>